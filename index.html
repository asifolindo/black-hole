<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SINGULARITY | Interactive Space</title>
    <link rel="stylesheet" href="style.css">
    
    <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/4.0.0/model-viewer.min.js"></script>

    <script>
      self.ModelViewerElement = self.ModelViewerElement || {};
      self.ModelViewerElement.meshoptDecoderLocation = 'https://cdn.jsdelivr.net/npm/meshoptimizer/meshopt_decoder.js';
    </script>
</head>
<body>

<div class="stars"></div>

<section class="hero">
    <header class="navbar">
        <h1 class="logo">SINGULARITY</h1>
        <nav>
            <a href="#formation">FORMATION</a>
            <a href="#horizon">HORIZON</a>
            <a href="#dilation">DILATION</a>
        </nav>
        <button class="btn-signing">SIGN IN</button>
    </header>

    <div class="hero-grid">
        <div class="hero-left">
            <div class="content">
                <div class="tag-box"><div class="tag">INTERACTIVE SPACE CONCEPT</div></div>
                <h1>UNDERSTANDING<br>BLACK HOLES</h1>
                <p class="description">Explore how black holes form, bend space-time, and trap light through an interactive 3D experience.</p>
                <div class="buttons">
                    <a href="#explore" class="btn-get-started">Explore ></a>
                    <a href="#" class="btn-signing-main">View Structure ></a>
                </div>
            </div>
        </div>
        <div class="hero-right">
            <model-viewer src="model-compressed.glb" camera-controls auto-rotate interaction-prompt="none" bounds="tight" exposure="1.2"></model-viewer>
        </div>
    </div>
</section>

<section class="timeline-container" id="explore">
    <div class="vertical-axis"></div>

    <div class="timeline-item item-left" id="formation">
        <div class="connector-line"></div>
        <div class="timeline-content">
            <h2 class="depth-text">FORMATION</h2>
            <p>What you see here is the <strong>Cassiopeia A</strong> supernova remnant. In this 3D model, the <strong>red regions</strong> represent iron, and the <strong>blue/green clouds</strong> show silicon and sulfur being blasted into the cosmos.</p>
        </div>
        <div class="timeline-visual">
            <model-viewer src="formation.glb" alt="Supernova" auto-rotate camera-controls interaction-prompt="none" bounds="tight"></model-viewer>
        </div>
    </div>

    <div class="timeline-item item-right" id="horizon">
        <div class="connector-line"></div>
        <div class="timeline-visual">
            <model-viewer src="horizon.glb" alt="Event Horizon" auto-rotate camera-controls interaction-prompt="none" camera-orbit="0deg 75deg 105%"></model-viewer>
        </div>
        <div class="timeline-content">
            <h2 class="depth-text">HORIZON</h2>
            <p>The glowing <strong>Accretion Disk</strong> is matter spinning so fast it glows with intense heat. Because gravity warps space, you are seeing the back of the disk bent over the top.</p>
        </div>
    </div>

    <div class="timeline-item item-left" id="dilation">
        <div class="connector-line"></div>
        <div class="timeline-content">
            <h2 class="depth-text">DILATION</h2>
            <p>Gravity warps the fabric of <strong>Spacetime</strong>. This grid shows how a black hole creates a "Gravity Well" so deep that time itself begins to stretch.</p>
        </div>
        <div class="timeline-visual">
            <model-viewer src="dilation.glb" alt="Spacetime" auto-rotate camera-controls interaction-prompt="none" camera-orbit="45deg 75deg 100%"></model-viewer>
        </div>
    </div>
</section>

<script>
    const observerOptions = { threshold: 0.2 };
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('reveal-active');
                const model = entry.target.querySelector('model-viewer');
                if (model) {
                    let exp = 0;
                    const ignite = setInterval(() => {
                        exp += 0.04;
                        model.exposure = exp;
                        if (exp >= 1.2) clearInterval(ignite);
                    }, 30);
                }
                observer.unobserve(entry.target); 
            }
        });
    }, observerOptions);

    document.querySelectorAll('.timeline-item').forEach(item => {
        observer.observe(item);
    });
</script>

</body>
</html>